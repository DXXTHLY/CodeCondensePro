<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeCondense Pro | JavaScript Abbreviator</title>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --dark: #1e293b;
            --light: #f8fafc;
            --gray: #94a3b8;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f1f5f9;
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container { max-width: 1200px; margin: 0 auto; padding: 2rem; }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .logo { display: flex; align-items: center; gap: 0.75rem; }
        
        .logo-icon {
            width: 2.5rem; height: 2.5rem;
            background-color: var(--primary);
            border-radius: 0.5rem;
            display: flex; align-items: center; justify-content: center;
            color: white; font-weight: bold; font-size: 1.25rem;
        }
        
        .logo-text { font-weight: 600; font-size: 1.25rem; }
        
        .logo-beta {
            background-color: var(--primary-dark);
            color: white; padding: 0.25rem 0.5rem;
            border-radius: 1rem; font-size: 0.75rem; margin-left: 0.5rem;
        }
        
        .main-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }
        
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .card-header {
            padding: 1rem 1.5rem;
            background-color: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .card-title { font-weight: 600; font-size: 1rem; }
        
        .card-body { padding: 1.5rem; flex-grow: 1; }
        
        .btn {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            font-family: 'Inter', sans-serif;
        }
        
        .btn-primary { background-color: var(--primary); color: white; }
        .btn-primary:hover { background-color: var(--primary-dark); }
        .btn-outline { background-color: transparent; border: 1px solid var(--gray); color: var(--dark); }
        .btn-outline:hover { background-color: #f1f5f9; }
        .btn-sm { padding: 0.25rem 0.5rem; font-size: 0.875rem; }
        
        .btn-group { display: flex; gap: 0.5rem; }
        
        textarea {
            width: 100%;
            min-height: 200px;
            padding: 1rem;
            border-radius: 0.5rem;
            border: 1px solid #e2e8f0;
            font-family: 'Fira Code', monospace;
            font-size: 0.875rem;
            line-height: 1.5;
            resize: vertical;
            background-color: #f8fafc;
        }
        
        .stats-card { grid-column: span 2; }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
        }
        
        .stat {
            background-color: white;
            border-radius: 0.5rem;
            padding: 1rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .stat-value { font-size: 1.5rem; font-weight: 600; margin-bottom: 0.25rem; }
        .stat-label { font-size: 0.875rem; color: var(--gray); }
        
        .term-list {
            margin-top: 1rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .term-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #e2e8f0;
            font-family: 'Fira Code', monospace;
            font-size: 0.875rem;
        }
        
        .term-input-row { gap: 10px; display: flex; padding: 10px; background: #f1f5f9; border-radius: 8px; margin-bottom: 10px; }
        .term-input-row input { flex: 1; padding: 5px; border: 1px solid #ccc; border-radius: 4px; }

        .tabs { display: flex; border-bottom: 1px solid #e2e8f0; margin-bottom: 1rem; }
        .tab {
            padding: 0.75rem 1rem;
            cursor: pointer;
            font-weight: 500;
            color: var(--gray);
            border-bottom: 2px solid transparent;
        }
        .tab.active { color: var(--primary); border-bottom-color: var(--primary); }
        .tab-content { display: none; }
        .tab-content.active { display: block; }

        footer {
            margin-top: 3rem;
            text-align: center;
            color: var(--gray);
            font-size: 0.875rem;
            padding-top: 1rem;
            border-top: 1px solid #e2e8f0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon">CC</div>
                <div class="logo-text">CodeCondense <span class="logo-beta">PRO</span></div>
            </div>
            <div class="btn-group">
                <button class="btn btn-outline">Docs</button>
                <button class="btn btn-primary" onclick="alert('Configuration Exported!')">Export Config</button>
            </div>
        </header>
        
        <div class="main-grid">
            <!-- LEFT CARD: TERMS -->
            <div class="card" id="leftCard">
                <div class="card-header">
                    <div class="card-title">Input Terms</div>
                    <div class="btn-group">
                        <button class="btn btn-outline btn-sm" onclick="ccp.loadExamples()">Examples</button>
                        <button class="btn btn-primary btn-sm" onclick="ccp.processTerms()">Process Terms</button>
                    </div>
                </div>
                <div class="card-body">
                    <textarea id="termsInput" placeholder="Enter terms (one per line)..."></textarea>
                    
                    <div class="tabs">
                        <div class="tab active" onclick="switchTab(this, 'auto-tab')">Auto-Generated</div>
                        <div class="tab" onclick="switchTab(this, 'manual-tab')">Manual Override</div>
                    </div>
                    
                    <div id="auto-tab" class="tab-content active">
                        <div class="term-list" id="autoTermsList">
                            <div class="term-item">Abbreviations will appear here...</div>
                        </div>
                    </div>
                    
                    <div id="manual-tab" class="tab-content">
                        <div class="term-input-row">
                            <input type="text" id="manFull" placeholder="Original">
                            <input type="text" id="manAbbr" placeholder="Abbr">
                            <button class="btn btn-primary btn-sm" onclick="ccp.addManualTerm()">Add</button>
                        </div>
                        <div class="term-list" id="manualTermsList"></div>
                    </div>
                </div>
            </div>
            
            <!-- RIGHT CARD: CODE -->
            <div class="card" id="rightCard">
                <div class="card-header">
                    <div class="card-title">Code Transformation</div>
                    <div class="btn-group">
                        <button class="btn btn-primary btn-sm" onclick="ccp.processCode()">Transform Code</button>
                    </div>
                </div>
                <div class="card-body">
                    <div class="tabs">
                        <div id="input-tab-btn" class="tab active" onclick="switchTab(this, 'input-tab')">Input</div>
                        <div id="output-tab-btn" class="tab" onclick="switchTab(this, 'output-tab')">Output</div>
                    </div>
                    
                    <div id="input-tab" class="tab-content active">
                        <textarea id="codeInput" placeholder="Paste JS code here..."></textarea>
                    </div>
                    
                    <div id="output-tab" class="tab-content">
                        <textarea id="codeOutput" readonly></textarea>
                    </div>
                    
                    <div class="btn-group" style="margin-top: 1rem;">
                        <button class="btn btn-outline" onclick="copyOutput()">Copy</button>
                    </div>
                </div>
            </div>
            
            <div class="card stats-card">
                <div class="card-header"><div class="card-title">Transformation Stats</div></div>
                <div class="card-body">
                    <div class="stats-grid">
                        <div class="stat"><div class="stat-value" id="originalSize">0</div><div class="stat-label">Original (chars)</div></div>
                        <div class="stat"><div class="stat-value" id="newSize">0</div><div class="stat-label">New (chars)</div></div>
                        <div class="stat"><div class="stat-value" id="reduction">0%</div><div class="stat-label">Reduction</div></div>
                        <div class="stat"><div class="stat-value" id="termsCount">0</div><div class="stat-label">Terms Processed</div></div>
                    </div>
                </div>
            </div>
        </div>
        
        <footer><p>CodeCondense Pro v1.2 · © 2026</p></footer>
    </div>

    <script>
        class CodeCondensePro {
            constructor() {
                this.autoTerms = {};
                this.manualTerms = {};
                this.settings = { abbreviationStyle: 'camelCase', minAbbrLength: 2, ignoreCommon: true };
            }

            loadExamples() {
                const examples = ['minCircleRadius', 'maxCircleRadius', 'calculateCircleArea', 'userAuthenticationToken'];
                document.getElementById('termsInput').value = examples.join('\n');
                this.processTerms();
            }

            processTerms() {
                const input = document.getElementById('termsInput').value;
                const lines = input.split('\n').filter(line => line.trim());
                this.autoTerms = this.generateAbbreviations(lines);
                this.displayTerms();
            }

            addManualTerm() {
                const full = document.getElementById('manFull').value.trim();
                const abbr = document.getElementById('manAbbr').value.trim();
                if (full && abbr) {
                    this.manualTerms[full] = abbr;
                    document.getElementById('manFull').value = '';
                    document.getElementById('manAbbr').value = '';
                    this.displayTerms();
                }
            }

            generateAbbreviations(fullNames) {
                const abbreviations = {};
                fullNames.forEach(fullName => {
                    const parts = fullName.split(/(?=[A-Z])|_/).map(s => s.toLowerCase().replace('_', ''));
                    let abbr = parts.map(p => p[0]).join(''); // Default to initials
                    if (abbr.length < this.settings.minAbbrLength) abbr = fullName.substring(0, 3);
                    abbreviations[fullName] = abbr;
                });
                return abbreviations;
            }

            displayTerms() {
                const autoList = document.getElementById('autoTermsList');
                autoList.innerHTML = '';
                Object.entries(this.autoTerms).forEach(([f, a]) => {
                    autoList.innerHTML += `<div class="term-item"><span>${f}</span><span style="color:var(--primary)">${a}</span></div>`;
                });

                const manualList = document.getElementById('manualTermsList');
                manualList.innerHTML = '';
                Object.entries(this.manualTerms).forEach(([f, a]) => {
                    manualList.innerHTML += `<div class="term-item"><span>${f}</span><span style="color:var(--success)">${a}</span></div>`;
                });
            }

            processCode() {
                const inputCode = document.getElementById('codeInput').value;
                if (!inputCode) return;

                // Merge Manual over Auto
                const allTerms = { ...this.autoTerms, ...this.manualTerms };
                const sortedKeys = Object.keys(allTerms).sort((a, b) => b.length - a.length);

                let outputCode = inputCode;
                let count = 0;

                sortedKeys.forEach(key => {
                    const regex = new RegExp(`\\b${key}\\b`, 'g');
                    if (regex.test(outputCode)) {
                        outputCode = outputCode.replace(regex, allTerms[key]);
                        count++;
                    }
                });

                // Update UI
                document.getElementById('codeOutput').value = outputCode;
                document.getElementById('originalSize').textContent = inputCode.length;
                document.getElementById('newSize').textContent = outputCode.length;
                document.getElementById('termsCount').textContent = count;
                const red = Math.round((1 - outputCode.length / inputCode.length) * 100);
                document.getElementById('reduction').textContent = (red || 0) + '%';

                // Automatically switch to output tab
                switchTab(document.getElementById('output-tab-btn'), 'output-tab');
            }
        }

        const ccp = new CodeCondensePro();

        function switchTab(element, tabId) {
            const card = element.closest('.card');
            // Deactivate all tabs in this card
            card.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            card.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            // Activate target
            element.classList.add('active');
            card.querySelector('#' + tabId).classList.add('active');
        }

        function copyOutput() {
            const out = document.getElementById('codeOutput');
            out.select();
            document.execCommand('copy');
            alert('Copied to clipboard!');
        }

        // Init
        window.onload = () => ccp.loadExamples();
    </script>
</body>
</html>
